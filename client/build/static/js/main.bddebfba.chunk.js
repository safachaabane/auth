(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{59:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(19),s=n.n(c),i=(n(59),n(23)),o=n(8),j=n(3),l=function(){return Object(j.jsx)("div",{children:"welcome to home"})},u=n(22),b=n(10),d=n(95),O=n(93),h=n(18),p=n.n(h),x=n(27),f="REGISTER_USER",g="REGISTER_USER_SUCCESS",v="REGISTER_USER_FAIL",m="LOGIN",E="LOGIN_SUCCESS",S="LOGIN_FAIL",L="GET_USER",y="GET_USER_SUCCESS",k="GET_USER_FAIL",_="LOGOUT",w=n(35),C=n.n(w),N=function(){var e=Object(b.b)(),t=Object(a.useState)(""),n=Object(u.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(""),i=Object(u.a)(s,2),l=i[0],h=i[1],m=Object(a.useState)(""),E=Object(u.a)(m,2),S=E[0],L=E[1],y=Object(a.useState)(""),k=Object(u.a)(y,2),_=k[0],w=k[1],N=Object(b.c)((function(e){return e})),I=N.isLoading,R=N.token;return Object(j.jsx)("div",{children:I?Object(j.jsx)("h1",{children:"...Loading"}):R?Object(j.jsx)(o.a,{to:"/login"}):Object(j.jsxs)(d.a,{children:[Object(j.jsxs)(d.a.Group,{children:[Object(j.jsx)(d.a.Label,{children:"FirstName"}),Object(j.jsx)(d.a.Control,{type:"text",placeholder:"FirstName",onChange:function(e){return c(e.target.value)}}),Object(j.jsx)(d.a.Label,{children:"LastName"}),Object(j.jsx)(d.a.Control,{type:"text",placeholder:"LastName",onChange:function(e){return h(e.target.value)}}),Object(j.jsx)(d.a.Label,{children:"Email address"}),Object(j.jsx)(d.a.Control,{type:"email",placeholder:"Enter email",onChange:function(e){return L(e.target.value)}})]}),Object(j.jsxs)(d.a.Group,{children:[Object(j.jsx)(d.a.Label,{children:"Password"}),Object(j.jsx)(d.a.Control,{type:"password",placeholder:"Password",onChange:function(e){return w(e.target.value)}})]}),Object(j.jsx)(O.a,{variant:"primary",onClick:function(t){var n;t.preventDefault(),e((n={firstName:r,lastName:l,email:S,password:_},function(){var e=Object(x.a)(p.a.mark((function e(t){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:f}),e.prev=1,e.next=4,C.a.post("/auth/register",n);case 4:a=e.sent,r=a.data,localStorage.setItem("token",r.token),t({type:g,payload:r}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),e.t0.response.data.forEach((function(e){return alert(e.msg)})),t({type:v});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:"Submit"})]})})},I=function(){var e=Object(b.b)(),t=Object(a.useState)(""),n=Object(u.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(""),i=Object(u.a)(s,2),l=i[0],h=i[1],f=Object(b.c)((function(e){return e})),g=f.isLoading,v=f.isAuth;return Object(j.jsx)("div",{children:g?Object(j.jsx)("h1",{children:"....isLoading"}):v?Object(j.jsx)(o.a,{to:"/profile"}):Object(j.jsxs)(d.a,{children:[Object(j.jsxs)(d.a.Group,{children:[Object(j.jsx)(d.a.Label,{children:"Email address"}),Object(j.jsx)(d.a.Control,{type:"email",placeholder:"Enter email",onChange:function(e){return c(e.target.value)}})]}),Object(j.jsxs)(d.a.Group,{children:[Object(j.jsx)(d.a.Label,{children:"Password"}),Object(j.jsx)(d.a.Control,{type:"password",placeholder:"Password",onChange:function(e){return h(e.target.value)}})]}),Object(j.jsx)(O.a,{variant:"primary",type:"submit",onClick:function(t){var n;t.preventDefault(),e((n={email:r,password:l},function(){var e=Object(x.a)(p.a.mark((function e(t){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:m}),e.prev=1,e.next=4,C.a.post("/auth/login",n);case 4:a=e.sent,r=a.data,console.log(r),localStorage.setItem("token",r.token),t({type:E,payload:r}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),e.t0.response.data.forEach((function(e){return alert(e.msg)})),t({type:S});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()))},children:"Submit"})]})})},R=n(94),T=n(96),A=function(){return Object(j.jsx)("div",{children:Object(j.jsxs)(R.a,{bg:"dark",variant:"dark",children:[Object(j.jsx)(R.a.Brand,{href:"#home",children:"Navbar"}),Object(j.jsxs)(T.a,{className:"mr-auto",children:[Object(j.jsx)(T.a.Link,{href:"/",children:"Home"}),Object(j.jsx)(T.a.Link,{href:"/Profile",children:"Profile"})]}),Object(j.jsx)(O.a,{variant:"outline-info",children:Object(j.jsx)(i.b,{to:"/registre",children:"Registre"})}),Object(j.jsx)(O.a,{variant:"outline-info",children:Object(j.jsx)(i.b,{to:"/login",children:"Login"})})]})})},G=(n(90),n(97)),U=function(){var e=Object(b.c)((function(e){return e})),t=e.isLoading,n=e.user,a=Object(b.b)();return Object(j.jsx)("div",{children:t?Object(j.jsx)("h1",{children:"loading..."}):n?Object(j.jsx)(G.a,{style:{width:"18rem"},children:Object(j.jsxs)(G.a.Body,{children:[Object(j.jsx)(G.a.Title,{children:n.firstName}),Object(j.jsx)(G.a.Subtitle,{className:"mb-2 text-muted",children:n.lastName}),Object(j.jsx)(G.a.Text,{children:n.Email}),Object(j.jsx)(i.b,{to:"/login",children:Object(j.jsx)(O.a,{onClick:function(){return a(function(){var e=Object(x.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("token"),t({type:_});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"LogOut"})})]})}):Object(j.jsx)(o.a,{to:"/login"})})};var D=function(){var e=Object(b.b)();Object(a.useEffect)((function(){e(function(){var e=Object(x.a)(p.a.mark((function e(t){var n,a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:localStorage.getItem("token")}},t({type:L}),e.prev=2,e.next=5,C.a.get("/auth/isAuth",n);case 5:a=e.sent,r=a.data,console.log("getAuth",r),t({type:y,payload:r}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),t({type:k,payload:e.t0.response.data});case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}())}),[e]);var t=Object(b.c)((function(e){return e})).isLoading;return Object(j.jsx)("div",{className:"App",children:t?Object(j.jsx)("h1",{children:"....isLoading"}):Object(j.jsxs)(i.a,{children:[Object(j.jsx)(A,{}),Object(j.jsxs)(o.d,{children:[Object(j.jsx)(o.b,{path:"/login",children:Object(j.jsx)(I,{})}),Object(j.jsx)(o.b,{path:"/registre",children:Object(j.jsx)(N,{})}),Object(j.jsx)(o.b,{path:"/profile",children:Object(j.jsx)(U,{})}),Object(j.jsx)(o.b,{path:"/",children:Object(j.jsx)(l,{})})]})]})})},P=n(36),X=n(15),F={isLoading:!1,user:null,isAuth:!1,token:null},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case f:case m:case L:return Object(X.a)(Object(X.a)({},e),{},{isLoading:!0});case g:return Object(X.a)(Object(X.a)({},e),{},{isLoading:!1,isAuth:!1,token:a.token,user:a.user});case E:return Object(X.a)(Object(X.a)({},e),{},{isLoading:!1,isAuth:!0,token:a.token,user:a.user});case y:return Object(X.a)(Object(X.a)({},e),{},{isLoading:!1,isAuth:!0,user:a});case _:return Object(X.a)(Object(X.a)({},e),{},{isLoading:!1,isAuth:!1,user:null,token:null});case v:case S:case k:return Object(X.a)(Object(X.a)({},e),{},{isLoading:!1,isAuth:!1,user:null,token:null,errors:a});default:return e}},V=n(54),J="undefined"===typeof window.__REDUX_DEVTOOLS_EXTENSION__?function(e){return e}:window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),z=Object(P.c)(B,Object(P.b)(Object(P.a)(V.a),J));s.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(b.a,{store:z,children:Object(j.jsx)(D,{})})}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.bddebfba.chunk.js.map